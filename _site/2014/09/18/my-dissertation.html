  <head>
    <meta charset="utf-8">
    <title>webtex</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">

    <link href="/css/styles.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px;
      }
    </style>
    <link href="/css/bootstrap-responsive.css" rel="stylesheet" type="text/css">
    <script src="jsplumb/dist/js/dom.jsPlumb-1.6.4-min.js "></script>
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
        <!--Title-->
        <div class="navbar-header">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a class="navbar-brand" href="#">webtex</a>
        </div>
        <!--Header buttons-->
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="/">Home</a></li>
            </ul>
        </div>
    </div>

    <div class="container">

<div class="row-fluid">
  <div class="col-md-8">
    <div class="page-header">
        <h1>Writing my Dissertation <small>Things I leant along the way</small><h1>
    </div>
    <p class="muted">18 September 2014</p>

    <h1>Introduction</h1>

<p>
    In the last year I wrote my dissertation about angular the distributions of J/Psi mesons produced at the CMS. This post is not so much about the end results, but how I went about organising and writing my dissertation, and things I would have done differently. I hope this will be of use for those writing their first large reports dealing with lots of data and writing. I'm not an expert on typography and graphic design, so do not take my word as gospel. 
</p>

<h1>The Tools</h1>

    <div>
        <ul>
            <li>LaTeX (using textmaker)</li>
            <ul>
                <li>pgftikz</li>
                <li>listings</li>
            </ul>
            <li>ROOT</li>
            <li>Python</li>
            <li>gnuplot</li>
        </ul>

        <p>
            LaTeX was my text formatter of choice, which is the natural choice in the field of physics; the pgftikz package was used for images and some plots that weren't done in gnuplot; listings for adding colour to any code; ROOT is the analysis tool used at CERN; and Python was used to further format results produced from ROOT.
        </p>
        
        <p>
            None of these programs are particularly unique in their function or form, such as using word over LaTeX or MATLAB over Python/gnuplot. The only constraint in my choices was that I had to use use ROOT. Choosing LaTeX add another constraint, LaTeX makes documents too pretty to pass up the option.
        </p>
    </div>
    
    

<h1>Workflow</h1>

    </p>
        All of my data came from ROOT, with various analysis results being saved to file. Once all these output files were made, I wrote a Python script that manipulated this data (as opposed to doing it in ROOT since it is much easier) providing either output a LaTeX ready table or for some cases prepared a white space separated file to put into gnuplot. gnuplot was used to provide $\chi^2$ fits and plots for some of graphs, and pgfplots tikz  was used to plot data that didn't need fitting due to its slightly easier syntax. It is possible to do all of these things in ROOT, but it's much easier to use these programs plus they are latex friendly.
    </p>

    <p> 
        For the dissertation itself, almost everything I wrote (including layout changes) was written into the single main .tex file. The only bits that weren't into that main file was my code and tables processed by my Python script. In a diagram, it worked like this:
    </p>
    
    <!--Wordflow diagram-->
    <div id="diagram" class="flowchart">

        <div id="mroot" class="diagram-block">ROOT</div>

        <div id="output1" class="diagram-block">Output</div>

        <div id="python" class="diagram-block">Python</div>

            <div id="gnuplot" class="diagram-block-inline">gnuplot</div>

            <div id="textables" class="diagram-block-inline">Tex tables</div>
        
        <div></div>
        
            <div id="output2" class="diagram-block-inline">Output</div>
        
            <!--Spacer-->
            <div class="diagram-block-inline-spacer"></div>
            
        <div id="latex" class="diagram-block">LaTeX</div>

    </div>
    
    <!--jsPlumb script to draw connections-->
    <script>
        jsPlumb.ready(function() {
            jsPlumb.setContainer($("diagram"));
            
            jsPlumb.importDefaults({
                PaintStyle:{ strokeStyle:"black", lineWidth:2},
                Overlays: [
                    ["Arrow", {
                        width: 10,
                        length: 5,
                        foldback: 0.5,
                        location: 1,
                    }]
                ]
            });
            
            jsPlumb.connect({
                source: "mroot",
                target: "output1",
                endpoint:"Blank",
                connector: "Straight",
                anchors: ["Bottom", "Top"]
            });
            
            jsPlumb.connect({
                source: "output1",
                target: "python",
                endpoint:"Blank",
                connector: "Straight",
                anchors: ["Bottom", "Top"]
            });
            
            // connect python to gnuplot and textables
            jsPlumb.connect({
                source: "python",
                target: "gnuplot",
                endpoint:"Blank",
                connector: "Straight",
                anchors: ["Bottom", "Top"]
            });
            
            jsPlumb.connect({
                source: "python",
                target: "textables",
                endpoint:"Blank",
                connector: "Straight",
                anchors: ["Bottom", "Top"]
            });
            
            // connect gnuplot to output2
            jsPlumb.connect({
                source: "gnuplot",
                target: "output2",
                endpoint:"Blank",
                connector: "Straight",
                anchors: ["Bottom", "Top"]
            });
            
            // connect output2 to latex
            jsPlumb.connect({
                source: "output2",
                target: "latex",
                endpoint:"Blank",
                connector: ["Bezier", { curviness: 10 }],
                anchors: ["Bottom", [0.3,0,0,-1]]
            });
            
            jsPlumb.connect({
                source: "textables",
                target: "latex",
                endpoint:"Blank",
                connector: ["Bezier", { curviness: 10 }],
                anchors: ["Bottom", [0.7,0,0,-1]]
            });
            
        });
    </script> 
    
    <p>
        The end result was a working directory that contained dozens of data files with incoherent names, scripts with terrible variable names, and LaTeX labels with vague names. This resulted in the LaTeX file itself being a difficult to edit beast. Because of all these problems, the experience creating my dissertation was hampered by all of these walls I had put up myself. 
    </p>

<h1>What I would fix (and what you should do)</h1>

    <p>
        The biggest issue on the whole was not compartmentalising everything like I should have. This includes separating the main .tex files into separate smaller files that makes things easier to maintain and edit; separating data files into families either by creating a new folder to put the files in, or creating some kind of sane naming convention, or even using ROOTs internal structures; splitting up the code I used for ROOT (1000+ lines with a lot of histograms, repeated code, minimal comments) into more manageable bites.
    </p>

    <p>
        Compartmentalising makes working easier in many ways, such as being able to troubleshoot code since it will be contained into smaller bits, including/remove parts you don't need, and reusing bits you have used before. 
    </p>

    <p>
        In all code I wrote (including LaTeX), I wish I wrote more comments. This is not unique to just research, but *any* programming you do. Even if you're the only person who will read it, there will come a point where you put aside some bit code for an extended period of time, after which you'll come back to it and find you have no idea what you wrote. You may have some vague recollections, but you'll waste time relearning this piece of code because of the lack of documentation, incoherent variable names, and sometimes just weird bits that look right. Comment, comment, comment. This cannot be emphasised enough.
    </p>

    

  </div>
  <div class="col-md-4">
    <h3>About Me</h3>

<p>I am a recent BSc (Honours) graduate in physics, moving into into the software development world one day at a time.</p>

<p>This site is a home for my code and miscellaneous other bits I find interesting.</p>

<ul>
  
    <li><a href="/2014/09/18/my-dissertation.html">Writing my Dissertation</a></li>
  
    <li><a href="/2014/09/17/htmltest.html">test</a></li>
  
    <li><a href="/2014/09/10/introduction.html">Introduction</a></li>
  
    <li><a href="/2014/09/07/introduction.html">My Introduction</a></li>
  
</ul>
  </div>
</div>

    </div>
     
  </body>
</html>