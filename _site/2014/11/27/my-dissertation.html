<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>webtex</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">

    <link href="/css/styles.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px;
      }
    </style>
    <script src="/js/dom.jsPlumb-1.6.4-min.js "></script>
    <script src="/js/jquery-2.1.1.min.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <Script src="/js/wkerrigan.js"></script>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="navbar navbar-default navbar-fixed-top">
        <!--Title-->
        <div class="navbar-header">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a class="navbar-brand" href="#">webtex</a>
        </div>
        <!--Header buttons-->
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav" id="navbar-buttons">
                <li><a href="/">Home</a></li>
                <li><a href="/projects/">Projects</a></li>
                <li><a href="https://github.com/Deadleg">GitHub</a></li>
            </ul>
        </div>
    </div>

    <div class="container">


        <div class="row-fluid">
            <div class="col-md-8">
                <div class="post-header">
                    <h1>Writing my Dissertation <small>What I learned along the way</small><h1>
                </div>
                <p class="muted">27 November 2014</p>

                <h2>Introduction</h2>

<p>
    For my physics honours dissertation I wrote about angular the distributions of J/Psi mesons produced at the CMS. The following is a reflection on the process I used in writing my dissertation, with some notes on what I did wrong and how I would do it differently.
</p>
<!--end excerpt-->
<h2>Tools</h2>

    <div>
        <ul>
            <li>LaTeX (using textmaker)</li>
            <li>ROOT</li>
            <li>Python</li>
            <li>gnuplot</li>
        </ul>

        <p>
            Given that the project dealt with data from CERN, my main analysis tool was ROOT. For those unfamiliar with ROOT, it is a data analysis framework optimised for dealing large datasets such as those produced at the Large Hadron Collider. Python, and gnuplot are used to process the results produced by ROOT into a LaTeX ready table or graph.
        </p>
        
        <p>
            There are alternatives to some of these programs (e.g. Word for LaTeX, MATLAB for Python/gnuplot), but my choices were ultimately by preference: I like the documents LaTeX produces over other programs, and Python I chose because I felt like it was good opportunity to learn a new language, and gnuplot for its LaTeX friendly plots.
        </p>
    </div>

<h2>Workflow</h2>

    </p>
        All of the code for ROOT was written in one file (mistake number one). Each result set was then written to a file, leading to around 50 files to process. Python was then used to process these files, which produced either a LaTeX table or a data file to be turned into figures using gnuplot/pgfplots. 
    </p>

    <p> 
        For the dissertation itself, almost everything I wrote (including layout changes) was written into the single main .tex file (mistake number two). The only bits that weren't put into the main file was my code and tables processed by the Python script. 
    </p>
    
    <p>
        In essence, the workflow is relatively simple, and looks like this:
    </p>
    
    <!--Wordflow diagram-->
    <div id="diagram" class="flowchart">

        <div id="mroot" class="diagram-block">ROOT</div>

        <div id="output1" class="diagram-block">ROOT output</div>

        <div id="python" class="diagram-block">Python</div>

            <div id="gnuplot" class="diagram-block-inline">gnuplot</div>

            <div id="textables" class="diagram-block-inline">LaTeX tables</div>
        
        <div></div>
        
            <div id="output2" class="diagram-block-inline">Graph</div>
        
            <!--Spacer-->
            <div class="diagram-block-inline-spacer"></div>
            
        <div id="latex" class="diagram-block">LaTeX</div>

    </div>
    
    <!--jsPlumb script to draw connections-->
    <script>
        jsPlumb.ready(function() {
            jsPlumb.setContainer($("diagram"));
            
            jsPlumb.importDefaults({
                PaintStyle:{ strokeStyle:"black", lineWidth:2},
                Overlays: [
                    ["Arrow", {
                        width: 10,
                        length: 5,
                        foldback: 0.5,
                        location: 1,
                    }]
                ]
            });
            
            jsPlumb.connect({
                source: "mroot",
                target: "output1",
                endpoint:"Blank",
                connector: "Straight",
                anchors: ["Bottom", "Top"]
            });
            
            jsPlumb.connect({
                source: "output1",
                target: "python",
                endpoint:"Blank",
                connector: "Straight",
                anchors: ["Bottom", "Top"]
            });
            
            // connect python to gnuplot and textables
            jsPlumb.connect({
                source: "python",
                target: "gnuplot",
                endpoint:"Blank",
                connector: "Straight",
                anchors: ["Bottom", "Top"]
            });
            
            jsPlumb.connect({
                source: "python",
                target: "textables",
                endpoint:"Blank",
                connector: "Straight",
                anchors: ["Bottom", "Top"]
            });
            
            // connect gnuplot to output2
            jsPlumb.connect({
                source: "gnuplot",
                target: "output2",
                endpoint:"Blank",
                connector: "Straight",
                anchors: ["Bottom", "Top"]
            });
            
            // connect output2 to latex
            jsPlumb.connect({
                source: "output2",
                target: "latex",
                endpoint:"Blank",
                connector: ["Bezier", { curviness: 10 }],
                anchors: ["Bottom", [0.3,0,0,-1]]
            });
            
            jsPlumb.connect({
                source: "textables",
                target: "latex",
                endpoint:"Blank",
                connector: ["Bezier", { curviness: 10 }],
                anchors: ["Bottom", [0.7,0,0,-1]]
            });
            
        });
    </script> 
    
    <p>
    Whilst the workflow is fairly straight forward, a few of my working decisions hampered the ability to <emph>flow</emph> from one section to the next. One such problem was my ROOT code was 1000 lines long, and contained many variables with terrible, hard to debug names. In addition, if I wanted one particular result (such as a graph) I would have to comment out at least half of the code just to get it to compile. The outputted files also had terrible names, which led to my Python script being close to unreadable.
    </p>
    
    <p>
        The LaTeX document also had problems due to its length, and made compiling a pain if there were any errors. The enjoyment in working with my project was greatly over shadowed by these organisational problems, and led to hours being wasted fixing problems or deciphering what I had done.
    </p>

<h2>Lessons learnt</h2>

<h3>Organisation</h3>

    <p>
        The biggest issue on the whole was not compartmentalising everything. This includes separating the main .tex files into separate smaller files that makes things easier to maintain and edit; separating data files into families either by creating a new folder to put the files in or creating some kind of sane naming convention, or even using ROOTs internal data structures; and splitting up the code I used for ROOT (consisting of 1000+ lines with a lot of histogram objects, repeated code, and minimal comments) into more manageable bites.
    </p>

    <p>
        Why didn't I split everything up? Strangely enough, I had read a few guides on writing a thesis in LaTeX. One of the first things they would note is to <i>split your .tex files in to chapters or sections</i>. Knowing this, I decided it was too much effort and put it all into one file. Needless to say, I regret my decision. It wasn't a great choice, but I wasn't huddled up in the corner of the room over it either. 
    </p>
    
    <p>
        I have since learned from my experience, and from the perspective of a reformed ex-non-compartmentaliser, the grass is much, much greener on this side. The advantages of doing it would have solved most of my problems. The ability to view the structure of the code and to run what is necessary with minimal effort, the ability to isolate problems and solve them later, the ability to simply function without fighting against the code.
    </p>

<h3>Documentation</h3>
    
    <p>
        I wish I wrote more comments. Not just in my programming code but my LaTeX stuff as well. In first year compsci there is a heavy emphasis on writing comments, even for the relatively simple tasks we were given. Clearly, that first year was a waste for me, since I wrote minimal amounts of documentation throughout the entire project. This made going through my code slow, especially if I hadn't look at that particular section for a few days.
    </p>    

    <p>
        Since finishing university, I had gained a great deal of respect for documentation, not only in code, but also general notes about errands. It doesn't matter if you're the only person who will read it, there will come a point where you put aside some bit code for an extended period of time, after which you'll come back to it and find you have no idea what you wrote. You may have some vague recollections, but you'll waste time relearning this piece of code because of the lack of documentation, incoherent variable names, and sometimes just weird bits that look right.
    </p>
    
    <p>
        Of course not everything can be documented, nor should it be. Names should be relatively self documenting. Names such as "bin1.dat", "v2pt6.dat", or "4bins.plt" are not self documenting. My data files are full of names like this, and it was not an experience I would like to repeat.
    </p>

<h2>Conclusion</h2>
    <p>
        Whilst I may sound a bit angsty about my work, disregarding the content I am fairly happy with the final result. There are other things I could have done to improve my dissertation, including asking for more help, not leaving work to the last minute, and not losing over my cool because the plots produced from ROOT look different from those produced in gnuplot or pgflot. But the thing would have helped the most would have been to actually care for my topic, or even physics itself. Since finishing my degree, I am glad I stopped because I stopped caring for physics in my first year of university. I just didn't realise until my final year.
    </p>

            </div>
            <div class="col-md-4">
                <div id="sidebar">
                    <h3>About Me</h3>

<p>I am a recent BSc (Honours) graduate in physics, moving into into the software development world one day at a time.</p>

<p>This site is a home for my code and miscellaneous other bits I find interesting.</p>

<ul>
  
    <li><a href="/2014/12/01/yet-another-introduction-to-LaTeX.html">Yet another introduction to LaTeX</a></li>
  
    <li><a href="/2014/11/27/my-dissertation.html">Writing my Dissertation</a></li>
  
    <li><a href="/2014/11/13/introduction.html">An introduction</a></li>
  
</ul>
                </div>
            </div>
        </div>

    </div>
     
  </body>
</html>
